{% extends 'base.html' %} {% block content %}
<div class="sidebar">
    <h2>Мониторинг датчиков</h2> 
    <p> 
        <script>
            console.log(socket); 
            socket.on('temperature_data', (DhtTemperature) =>{ 

                console.log(DhtTemperature); 
                document.getElementById('temp').innerHTML = DhtTemperature.DhtTemperature;
            }); 
            socket.emit('get_temperature'); 
        </script> 
        <strong>Температура:</strong> <span id="temp"></span> <i>C</i>
    </p>
    <hr>
    <p>
        <script>
            console.log(socket);
            socket.on('humidity_data', (DhtHumidity) =>{

                console.log(DhtHumidity);
                document.getElementById('hum').innerHTML = DhtHumidity.DhtHumidity;
            });
            socket.emit('get_humidity')
        </script>
        <strong>Влажность:</strong> <span id="hum"></span> <i>%</i>
    </p>
    <hr>
    <p><strong>pH:</strong> <span id="ph"></span></p>
    <hr>
    <p><strong>Фаза:</strong> <span id="phase"></span></p>
    <hr>
    <p><strong>День:</strong> <span id="day"></span></p>
    <hr>
    <p>
        <script>
            console.log(socket);
            socket.on('time_data', (current_time) =>{

                console.log(current_time);
                document.getElementById('time').innerHTML = current_time.current_time;
            });
            socket.emit('get_time')
        </script>
        <strong>Время:</strong> <span id="time"></span>
    </p>
    <hr>
    <p> 
        <button id="emergency-stop">Emergency Stop</button> 
        
    </p>
    <p>
        <button id="manual_operation"><a href="manual_operation.html">Ручное управление</a></button>
    </p>
</div>
<div class="main-content">
    <h1>Мониторинг Сити-фермы</h1>
    <table>
        <thead>
            <tr>
                <th>№ Яруса</th>
                <th>Статус освещения</th>
                <th>Статус полива</th>
            </tr>
        </thead>
        <tbody id="levels-content">
            <!-- Dynamic content will be inserted here -->
        </tbody>
    </table>

    <script>
        // Dynamic content will be inserted here using JavaScript
        document.getElementById("levels-content").innerHTML = `
            <tr>
                <td>1</td>
                <td>Running</td>
                <td>On</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Running</td>
                <td>On</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Running</td>
                <td>On</td>
            </tr>
        `;

        // Add event listener for emergency stop button
        document.getElementById("emergency-stop").addEventListener("click", function() {
            // Code to handle emergency stop goes here
            alert("Emergency stop button clicked!");
        });
    </script>
</div>
{% endblock %}